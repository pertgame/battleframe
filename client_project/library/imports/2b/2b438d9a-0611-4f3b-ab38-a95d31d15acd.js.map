{"version":3,"sources":["assets/scripts/gm.js"],"names":["wsNet","require","Global","GMID","resetStarPos","cc","Class","getwsNetObj","sendResetStarPos","log","buff","ArrayBuffer","data","Uint32Array","MID_GM","nodexflag","nodex","parseInt","nodeyflag","nodey","sendwsmessage"],"mappings":";;;;;;AACA,IAAIA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAnB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAApB,EAEA;;;AACA,IAAIE,IAAI,GAAG;AACPC,EAAAA,YAAY,EAAE;AADP,CAAX;AAIAC,EAAE,CAACC,KAAH,CAAS;AAELC,EAAAA,WAAW,EAAE,uBAAW;AACpB,WAAO,IAAIP,KAAJ,EAAP;AACH,GAJI;AAMLQ,EAAAA,gBAAgB,EAAE,4BAAU;AACxBH,IAAAA,EAAE,CAACI,GAAH,CAAO,mBAAP;AACA,QAAIC,IAAI,GAAG,IAAIC,WAAJ,CAAgB,EAAhB,CAAX;AACA,QAAIC,IAAI,GAAG,IAAIC,WAAJ,CAAgBH,IAAhB,CAAX;AAEAE,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUV,MAAM,CAACY,MAAjB,CALwB,CAKQ;;AAChCF,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV,CANwB,CAMQ;;AAChCA,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUT,IAAI,CAACC,YAAf,CAPwB,CAOQ;;AAEhC,QAAIW,SAAS,GAAG,CAAhB;AACA,QAAIC,KAAK,GAAG,GAAZ;;AACA,QAAIA,KAAK,GAAG,GAAZ,EAAiB;AACbD,MAAAA,SAAS,GAAG,CAAZ;AACAC,MAAAA,KAAK,GAAG,MAAMA,KAAd;AACH;;AAEDJ,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUG,SAAV,CAhBwB,CAgBQ;;AAChCH,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUK,QAAQ,CAACD,KAAD,CAAlB,CAjBwB,CAiBQ;;AAChC,QAAIE,SAAS,GAAG,CAAhB;AACA,QAAIC,KAAK,GAAG,CAAC,EAAb;;AACA,QAAIA,KAAK,GAAG,GAAZ,EAAiB;AACbD,MAAAA,SAAS,GAAG,CAAZ;AACAC,MAAAA,KAAK,GAAG,MAAMA,KAAd;AACH;;AAEDP,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUM,SAAV,CAzBwB,CAyBQ;;AAChCN,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUK,QAAQ,CAACE,KAAD,CAAlB,CA1BwB,CA0BQ;;AAEhC,SAAKZ,WAAL,GAAmBa,aAAnB,CAAiCR,IAAjC;AACH;AAnCI,CAAT","sourceRoot":"/","sourcesContent":["\nlet wsNet = require(\"wsNet\")\nlet Global = require(\"common\")\n\n// gm id列表\nvar GMID = {\n    resetStarPos: 1,\n}\n\ncc.Class({\n\n    getwsNetObj: function() {\n        return new wsNet();\n    },\n\n    sendResetStarPos: function(){\n        cc.log(\"reset star pos...\")\n        var buff = new ArrayBuffer(28)\n        var data = new Uint32Array(buff)\n\n        data[0] = Global.MID_GM         //消息ID\n        data[1] = 5                     //消息长度\n        data[2] = GMID.resetStarPos     //gm 子命令id\n        \n        var nodexflag = 1\n        var nodex = 0.0\n        if (nodex < 0.0) {\n            nodexflag = 2\n            nodex = 0.0 - nodex\n        }\n\n        data[3] = nodexflag             //x坐标正负\n        data[4] = parseInt(nodex)       //x坐标\n        var nodeyflag = 1\n        var nodey = -88 \n        if (nodey < 0.0) {\n            nodeyflag = 2\n            nodey = 0.0 - nodey\n        }\n\n        data[5] = nodeyflag             //y坐标正负\n        data[6] = parseInt(nodey)       //y坐标\n\n        this.getwsNetObj().sendwsmessage(data)\n    }\n})"]}